<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Avatar Creation: Abisheka Pitumpe</title>
    <!-- Babylon.js -->
    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="https://cdn.babylonjs.com/loaders/babylonjs.loaders.min.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
            line-height: 1.6;
        }

        header {
            background-color: #2c3e50;
            color: white;
            padding: 2rem 0;
            text-align: center;
        }

        h1 {
            margin: 0;
            font-size: 2.5rem;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
        }

        #canvas-container {
            width: 100%;
            height: 500px;
            margin-bottom: 2rem;
            background-color: #000;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        canvas {
            width: 100%;
            height: 100%;
            touch-action: none;
        }

        .video-container {
            margin: 2rem 0;
            text-align: center;
        }

        video {
            max-width: 100%;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        section {
            background: white;
            padding: 2rem;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
            margin-bottom: 2rem;
        }

        h2 {
            color: #2c3e50;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 0.5rem;
            margin-top: 0;
        }

        ul, ol {
            padding-left: 20px;
        }

        li {
            margin-bottom: 0.5rem;
        }

        strong {
            color: #2980b9;
        }
    </style>
</head>
<body>

    <header>
        <h1>Digital Avatar Creation Process</h1>
        <p>Featuring Abisheka Pitumpe</p>
    </header>

    <div class="container">
        <!-- 3D Viewer Section -->
        <section>
            <h2>Interactive 3D Model</h2>
            <div id="canvas-container">
                <canvas id="renderCanvas"></canvas>
            </div>
            <p><em>Interact with the model above: Click and drag to rotate, scroll to zoom.</em></p>
        </section>

        <!-- Blog Content -->
        <section>
            <h2>Project Overview</h2>
            <p>This project explores the intersection of 3D scanning technology and digital character animation. By scanning a real-world subject and converting them into a rigged, animated digital avatar, we are investigating the workflows required to bridge the gap between physical reality and virtual environments.</p>

            <h2>The Process</h2>
            <ol>
                <li>
                    <strong>3D Scanning (Capture):</strong><br>
                    We used <strong>Luma 3D</strong> to perform a high-fidelity 3D scan of the student, Abisheka Pitumpe. This stage captures the geometry and textures of the subject to create a digital double.
                </li>
                <li>
                    <strong>Initial Export:</strong><br>
                    The scan was exported from Luma 3D as a <strong>.glb</strong> file (GL Transmission Format), which is a standard format for efficient transmission and loading of 3D scenes and models.
                </li>
                <li>
                    <strong>Format Conversion (Blender):</strong><br>
                    The .glb file was imported into <strong>Blender</strong> and converted to <strong>.fbx</strong> (Filmbox). This conversion is necessary for compatibility with various rigging and animation pipelines.
                </li>
                <li>
                    <strong>Auto-Rigging and Animation (Mixamo):</strong><br>
                    The .fbx model was uploaded to <strong>Mixamo</strong>. We used Mixamoâ€™s auto-rigging algorithms to generate a skeletal structure (rig) for the model and applied pre-built animations to bring the avatar to life.
                </li>
                <li>
                    <strong>Final Rendering (Blender):</strong><br>
                    The animated .fbx file was imported back into <strong>Blender</strong>. In this final stage, we refined the materials, lighting, and camera settings to render out the completed animation.
                </li>
            </ol>

            <h2>Why We Are Doing This</h2>
            <ul>
                <li><strong>Workflow Exploration:</strong> To understand the technical hurdles and best practices for converting raw 3D scans into functional digital assets.</li>
                <li><strong>Avatar Creation:</strong> To develop a repeatable pipeline for creating realistic digital avatars for use in games, VR/AR, or digital art.</li>
                <li><strong>Educational Research:</strong> Exploring how accessible tools like Luma 3D and Mixamo can be combined with professional software like Blender to democratize high-end digital character creation.</li>
            </ul>
        </section>

        <!-- Video Section -->
        <section>
            <h2>Animation Render</h2>
            <div class="video-container">
                <video controls autoplay loop muted playsinline>
                    <source src="Render.mp4" type="video/mp4">
                    <source src="Render.mov" type="video/quicktime">
                    Your browser does not support the video tag.
                </video>
            </div>
            <p><em>Looping render of the dance animation.</em></p>
        </section>
    </div>

    <script>
        const canvas = document.getElementById("renderCanvas"); // Get the canvas element
        const engine = new BABYLON.Engine(canvas, true); // Generate the BABYLON 3D engine

        const createScene = function () {
            const scene = new BABYLON.Scene(engine);
            scene.clearColor = new BABYLON.Color4(0.9, 0.9, 0.95, 1);

            // Camera
            const camera = new BABYLON.ArcRotateCamera("camera", -Math.PI / 2, Math.PI / 2.5, 9, new BABYLON.Vector3(0, 2, 0), scene);
            camera.attachControl(canvas, true);
            camera.useAutoRotationBehavior = true; // Auto rotate
            if (camera.autoRotationBehavior) {
                camera.autoRotationBehavior.idleRotationSpeed = 1;
            }
            camera.wheelPrecision = 50;
            camera.minZ = 0.1;

            // Light
            const light = new BABYLON.HemisphericLight("light", new BABYLON.Vector3(0, 1, 0), scene);
            light.intensity = 0.7;

            // Load GLB Model
            BABYLON.SceneLoader.Append("./", "AbiAnimation.glb", scene, function (scene) {
                // Adjust model scale or position if necessary here
                // scene.meshes[0].scaling = new BABYLON.Vector3(1, 1, 1);
                
                // Slow down animation
                scene.animationGroups.forEach(group => {
                    group.speedRatio = 0.5;
                });
            });

            return scene;
        };

        const scene = createScene(); //Call the createScene function

        // Register a render loop to repeatedly render the scene
        engine.runRenderLoop(function () {
            scene.render();
        });

        // Watch for browser/canvas resize events
        window.addEventListener("resize", function () {
            engine.resize();
        });
    </script>
</body>
</html>
